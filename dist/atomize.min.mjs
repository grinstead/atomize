var e={},l={},m={},p={},q={};
function t(a){return function(b){function g(c){var d=void 0===c?a.o:null===c?a.i:"boolean"===typeof c?a.g:"number"===typeof c?a.j:"string"===typeof c?a.l:"function"===typeof c?a.h:"symbol"===typeof c?a.m:c instanceof Map?a.Map:c instanceof Set?a.Set:Array.isArray(c)?a.Array:(d=Object.getPrototypeOf(c))&&d!==Object.prototype?a.instance:a.object;var G=n,H=h,u=f.length;n=c;h=u;d(c,k)?r.set(c,0<=h?h<<1|1:-h):0>h&&r.delete(c);if(u===f.length)throw Error("Value encoded into nothing "+String(c));n=G;h=H}
function k(c,d){if(d===e)f.push(c);else if(d===l)f.push(28,c);else if(c===m)n!==e&&(0<=h&&(h=~(h<<1)),r.set(n,-h),n=e);else if(c===p)v.push(f.push(-1)-1);else if(c===q)f[v.pop()]=f.length;else if(0<=h&&(h=~(h<<1),r.set(c,-1)),d=r.get(c),null!=d){if(-1===d)throw Error("Infinite loop when encoding "+c);f.push(0<=d?d:-d)}else g(c)}var f=[],r=new Map,v=[],h=0,n=e;g(b);return f}}function w(a){a(2,e)}function x(a){a(4,e)}function y(a,b){b(a?6:8,e)}
function z(a,b){if(a!==a)return b(10,e),!1;a===(a|0)?(b(12,e),b(a,e)):(b(14,e),b(a,e));return!0}function A(a,b){b(m);b(16,e);b(p);for(var g=a.length,k=0;k<g;k++)b(a[k]);b(q);return!0}function B(a,b){b(18,e);b(a,e);return!0}function C(a,b){b(m);b(20,e);b(p);a.forEach(function(g,k){b(k)});b(q);a.forEach(function(g){b(g)});return!0}function D(a,b){b(m);b(22,e);b(p);a.forEach(function(g){b(g)});b(q);return!0}
function E(a,b){b(m);b(24,e);var g=Object.keys(a),k=g.length;b(p);for(var f=0;f<k;f++)b(g[f]);b(q);for(f=0;f<k;f++)b(a[g[f]]);return!0}function F(a,b){return a?function(g,k){k(26,e);return a(g,k)}:b};function I(a){throw Error("No way to atomize "+String(a));}function J(a,b){b(a,l);return!0}export const ALLOW_SELF_REFERENCE=m;export const encodeVoid=w;export const encodeNull=x;export const encodeBoolean=y;export const encodeNumber=z;export const encodeArray=A;export const encodeString=B;export const encodeMap=C;export const encodeSet=D;export const encodeObject=E;export const AS_IS=l;
export const atomizer=function(a){a=void 0===a?{}:a;var b=a.keepUnknownsAsIs?J:I;return t({o:F(a["void"],w),i:F(a["null"],x),g:F(a["boolean"],y),j:F(a.number,z),Array:F(a.Array,A),l:F(a.string,B),Map:F(a.Map,C),Set:F(a.Set,D),object:F(a.object,E),h:F(a["function"],b),m:F(a.symbol,b),instance:F(a.instance,b)})};
